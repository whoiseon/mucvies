{"ast":null,"code":"import _slicedToArray from\"/Users/hwang-inseon/Desktop/portfolio/movie-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRecoilState,useRecoilValue}from\"recoil\";import{useState}from\"react\";import Skeleton from'@mui/material/Skeleton';import Stack from'@mui/material/Stack';import{movieState}from\"../../states/movieState\";import AppLayout from\"../../components/AppLayout\";import{InputWrapper,ResultMovieCard,SearchResult,SearchResultWrapper,SearchWrapper,SkeletonWrapper}from\"./styles\";import SearchForm from\"../../components/SearchForm\";import{searchKeywordState}from\"../../states/searchKeywordState\";import MovieCard from\"../../components/MovieCard\";import{CardWrapper,MovieImg,MovieInfo}from\"../../components/MovieCard/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useRecoilState=useRecoilState(movieState),_useRecoilState2=_slicedToArray(_useRecoilState,2),movies=_useRecoilState2[0],setMovies=_useRecoilState2[1];var searchKeyword=useRecoilValue(searchKeywordState);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyword=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var fakeArrayToSkeleton=Array.from({length:15},function(v,i){return i;});return/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsxs(SearchWrapper,{children:[/*#__PURE__*/_jsx(SearchForm,{setMovies:setMovies,setKeyword:setKeyword,setIsLoading:setIsLoading}),/*#__PURE__*/_jsx(SearchResult,{children:movies.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\uC601\\uD654\\uB97C \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694\"}):isLoading?/*#__PURE__*/_jsx(SearchResultWrapper,{children:/*#__PURE__*/_jsx(SkeletonWrapper,{children:/*#__PURE__*/_jsxs(Stack,{spacing:1,children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rounded\",width:300,height:24})}),/*#__PURE__*/_jsx(ResultMovieCard,{style:{marginTop:'0'},children:fakeArrayToSkeleton.map(function(v,i){return/*#__PURE__*/_jsxs(CardWrapper,{children:[/*#__PURE__*/_jsx(MovieImg,{children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rounded\",width:\"100%\",height:260})}),/*#__PURE__*/_jsxs(MovieInfo,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rounded\",width:100,height:14})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rounded\",width:\"100%\",height:16})})]})]},v);})})]})})}):/*#__PURE__*/_jsxs(SearchResultWrapper,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\\"\".concat(keyword,\"\\\"\\uC5D0 \\uB300\\uD55C \\uAC80\\uC0C9 \\uACB0\\uACFC\\uC785\\uB2C8\\uB2E4.\")}),/*#__PURE__*/_jsx(ResultMovieCard,{children:movies===null||movies===void 0?void 0:movies.map(function(item,idx){return/*#__PURE__*/_jsx(MovieCard,{item:item},item.title);})})]})})]})});};export default Search;","map":{"version":3,"names":["useRecoilState","useRecoilValue","useState","Skeleton","Stack","movieState","AppLayout","InputWrapper","ResultMovieCard","SearchResult","SearchResultWrapper","SearchWrapper","SkeletonWrapper","SearchForm","searchKeywordState","MovieCard","CardWrapper","MovieImg","MovieInfo","Search","movies","setMovies","searchKeyword","keyword","setKeyword","isLoading","setIsLoading","fakeArrayToSkeleton","Array","from","length","v","i","marginTop","map","item","idx","title"],"sources":["/Users/hwang-inseon/Desktop/portfolio/movie-app/client/src/routes/Search/index.jsx"],"sourcesContent":["import {useRecoilState, useRecoilValue} from \"recoil\";\nimport {useState} from \"react\";\nimport Skeleton from '@mui/material/Skeleton';\nimport Stack from '@mui/material/Stack';\nimport {movieState} from \"../../states/movieState\";\nimport AppLayout from \"../../components/AppLayout\";\nimport {\n  InputWrapper,\n  ResultMovieCard,\n  SearchResult,\n  SearchResultWrapper,\n  SearchWrapper,\n  SkeletonWrapper,\n} from \"./styles\";\nimport SearchForm from \"../../components/SearchForm\";\nimport {searchKeywordState} from \"../../states/searchKeywordState\";\nimport MovieCard from \"../../components/MovieCard\";\nimport {CardWrapper, MovieImg, MovieInfo} from \"../../components/MovieCard/styles\";\n\nconst Search = () => {\n  const [movies, setMovies] = useRecoilState(movieState);\n  const searchKeyword = useRecoilValue(searchKeywordState);\n\n  const [keyword, setKeyword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fakeArrayToSkeleton = Array.from({ length: 15 }, (v, i) => i);\n\n  return (\n    <AppLayout>\n      <SearchWrapper>\n        <SearchForm\n          setMovies={setMovies}\n          setKeyword={setKeyword}\n          setIsLoading={setIsLoading}\n        />\n        <SearchResult>\n          {\n            movies.length === 0\n              ? <p>영화를 검색해보세요</p>\n              : isLoading\n                ? (\n                  <SearchResultWrapper>\n                    <SkeletonWrapper>\n                      <Stack spacing={1}>\n                        <p>\n                          <Skeleton variant=\"rounded\" width={300} height={24} />\n                        </p>\n                        <ResultMovieCard style={{ marginTop: '0' }}>\n                          {\n                            fakeArrayToSkeleton.map((v, i) => {\n                              return (\n                                <CardWrapper key={v}>\n                                  <MovieImg>\n                                    <Skeleton variant=\"rounded\" width=\"100%\" height={260} />\n                                  </MovieImg>\n                                  <MovieInfo>\n                                    <p>\n                                      <Skeleton variant=\"rounded\" width={100} height={14} />\n                                    </p>\n                                    <p>\n                                      <Skeleton variant=\"rounded\" width=\"100%\" height={16} />\n                                    </p>\n                                  </MovieInfo>\n                                </CardWrapper>\n                              );\n                            })\n                          }\n                        </ResultMovieCard>\n                      </Stack>\n                    </SkeletonWrapper>\n                  </SearchResultWrapper>\n                )\n                : (\n                  <SearchResultWrapper>\n                    <p>\n                      {`\"${keyword}\"에 대한 검색 결과입니다.`}\n                    </p>\n                    <ResultMovieCard>\n                      {\n                        movies?.map((item, idx) => {\n                          return (\n                            <MovieCard key={item.title} item={item} />\n                          );\n                        })\n                      }\n                    </ResultMovieCard>\n                  </SearchResultWrapper>\n                )\n          }\n        </SearchResult>\n      </SearchWrapper>\n    </AppLayout>\n  );\n};\n\nexport default Search;\n"],"mappings":"4IAAA,OAAQA,cAAR,CAAwBC,cAAxB,KAA6C,QAA7C,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,OAAQC,UAAR,KAAyB,yBAAzB,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,OACEC,YADF,CAEEC,eAFF,CAGEC,YAHF,CAIEC,mBAJF,CAKEC,aALF,CAMEC,eANF,KAOO,UAPP,CAQA,MAAOC,WAAP,KAAuB,6BAAvB,CACA,OAAQC,kBAAR,KAAiC,iCAAjC,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,OAAQC,WAAR,CAAqBC,QAArB,CAA+BC,SAA/B,KAA+C,mCAA/C,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACnB,oBAA4BnB,cAAc,CAACK,UAAD,CAA1C,oDAAOe,MAAP,qBAAeC,SAAf,qBACA,GAAMC,cAAa,CAAGrB,cAAc,CAACa,kBAAD,CAApC,CAEA,cAA8BZ,QAAQ,CAAC,EAAD,CAAtC,wCAAOqB,OAAP,eAAgBC,UAAhB,eACA,eAAkCtB,QAAQ,CAAC,KAAD,CAA1C,yCAAOuB,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,oBAAmB,CAAGC,KAAK,CAACC,IAAN,CAAW,CAAEC,MAAM,CAAE,EAAV,CAAX,CAA2B,SAACC,CAAD,CAAIC,CAAJ,QAAUA,EAAV,EAA3B,CAA5B,CAEA,mBACE,KAAC,SAAD,wBACE,MAAC,aAAD,yBACE,KAAC,UAAD,EACE,SAAS,CAAEX,SADb,CAEE,UAAU,CAAEG,UAFd,CAGE,YAAY,CAAEE,YAHhB,EADF,cAME,KAAC,YAAD,WAEIN,MAAM,CAACU,MAAP,GAAkB,CAAlB,cACI,8EADJ,CAEIL,SAAS,cAEP,KAAC,mBAAD,wBACE,KAAC,eAAD,wBACE,MAAC,KAAD,EAAO,OAAO,CAAE,CAAhB,wBACE,gCACE,KAAC,QAAD,EAAU,OAAO,CAAC,SAAlB,CAA4B,KAAK,CAAE,GAAnC,CAAwC,MAAM,CAAE,EAAhD,EADF,EADF,cAIE,KAAC,eAAD,EAAiB,KAAK,CAAE,CAAEQ,SAAS,CAAE,GAAb,CAAxB,UAEIN,mBAAmB,CAACO,GAApB,CAAwB,SAACH,CAAD,CAAIC,CAAJ,CAAU,CAChC,mBACE,MAAC,WAAD,yBACE,KAAC,QAAD,wBACE,KAAC,QAAD,EAAU,OAAO,CAAC,SAAlB,CAA4B,KAAK,CAAC,MAAlC,CAAyC,MAAM,CAAE,GAAjD,EADF,EADF,cAIE,MAAC,SAAD,yBACE,gCACE,KAAC,QAAD,EAAU,OAAO,CAAC,SAAlB,CAA4B,KAAK,CAAE,GAAnC,CAAwC,MAAM,CAAE,EAAhD,EADF,EADF,cAIE,gCACE,KAAC,QAAD,EAAU,OAAO,CAAC,SAAlB,CAA4B,KAAK,CAAC,MAAlC,CAAyC,MAAM,CAAE,EAAjD,EADF,EAJF,GAJF,GAAkBD,CAAlB,CADF,CAeD,CAhBD,CAFJ,EAJF,GADF,EADF,EAFO,cAkCP,MAAC,mBAAD,yBACE,+BACOR,OADP,wEADF,cAIE,KAAC,eAAD,WAEIH,MAFJ,SAEIA,MAFJ,iBAEIA,MAAM,CAAEc,GAAR,CAAY,SAACC,IAAD,CAAOC,GAAP,CAAe,CACzB,mBACE,KAAC,SAAD,EAA4B,IAAI,CAAED,IAAlC,EAAgBA,IAAI,CAACE,KAArB,CADF,CAGD,CAJD,CAFJ,EAJF,GAtCV,EANF,GADF,EADF,CAkED,CA3ED,CA6EA,cAAelB,OAAf"},"metadata":{},"sourceType":"module"}